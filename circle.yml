#machine:
#java:
#version:  oraclejdk8, oraclejdk7

#environment:
 #   foo: bar
  
#  baz: 123
    
#script:
 # - mvn clean verify
#branches:
 #only:
  #- develop

 #after_success:
 #- bash <(curl -s https://codecov.io/bash)
 java:
 version:
  - oraclejdk8
  - oraclejdk7
  
  checkout:
  post:
    - git submodule sync
    - git submodule update --init
    
    dependencies:
  post:
    - java ./install-packages
    
    database:
  override:
    - mysql -u ubuntu circle_test < my-database-setup.sql
    
    test:
  override:
    - php ./test-suite/run.php --unit-tests
    
script:
  - mvn clean verify
branches:
  only:
    - develop

after_success:
  - bash <(curl -s https://codecov.io/bash)
  
 #dependencies:
  #override:
   # - npm install
